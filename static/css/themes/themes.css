/* ========== 统一主题系统 v2.0 ========== */

/* 基础CSS变量定义（默认主题） */
:root {
    --primary-color: #ff69b4;
    --secondary-color: #ff1493;
    --accent-color: #ffc0cb;
    --background-gradient: linear-gradient(135deg, #fecfef 0%, #ffc0cb 50%, #ff69b4 100%);
    --card-background: rgba(255, 255, 255, 0.95);
    --text-primary: #2d3748;
    --text-secondary: #4a5568;
    --text-muted: #718096;
    --border-color: rgba(255, 105, 180, 0.2);
    --shadow-color: rgba(255, 105, 180, 0.3);
    --hover-color: rgba(255, 105, 180, 0.05);
}

/* 确保默认主题应用 */
body {
    --primary-color: #ff69b4;
    --secondary-color: #ff1493;
    --accent-color: #ffc0cb;
    --background-gradient: linear-gradient(135deg, #fecfef 0%, #ffc0cb 50%, #ff69b4 100%);
    --card-background: rgba(255, 255, 255, 0.95);
    --text-primary: #2d3748;
    --text-secondary: #4a5568;
    --text-muted: #718096;
    --border-color: rgba(255, 105, 180, 0.2);
    --shadow-color: rgba(255, 105, 180, 0.3);
    --hover-color: rgba(255, 105, 180, 0.05);
}

/* ========== 主题定义 ========== */

/* 主题1: 经典粉色 */
.theme-classic {
    --primary-color: #ff69b4 !important;
    --secondary-color: #ff1493 !important;
    --accent-color: #ffc0cb !important;
    --background-gradient: linear-gradient(135deg, #fecfef 0%, #ffc0cb 50%, #ff69b4 100%) !important;
    --card-background: rgba(255, 255, 255, 0.95) !important;
    --text-primary: #2d3748 !important;
    --text-secondary: #4a5568 !important;
    --text-muted: #718096 !important;
    --border-color: rgba(255, 105, 180, 0.2) !important;
    --shadow-color: rgba(255, 105, 180, 0.3) !important;
    --hover-color: rgba(255, 105, 180, 0.05) !important;
}

/* 主题2: 浅樱花粉 */
.theme-sakura {
    --primary-color: #ffb6c1 !important;
    --secondary-color: #ffc0cb !important;
    --accent-color: #f0e6f7 !important;
    --background-gradient: linear-gradient(135deg, #f8f4f8 0%, #ffe4e1 50%, #ffb6c1 100%) !important;
    --card-background: rgba(255, 255, 255, 0.95) !important;
    --text-primary: #2d3748 !important;
    --text-secondary: #4a5568 !important;
    --text-muted: #718096 !important;
    --border-color: rgba(255, 182, 193, 0.2) !important;
    --shadow-color: rgba(255, 182, 193, 0.3) !important;
    --hover-color: rgba(255, 182, 193, 0.05) !important;
}

/* 主题3: 玫瑰红 */
.theme-rose {
    --primary-color: #dc143c !important;
    --secondary-color: #b22222 !important;
    --accent-color: #ff69b4 !important;
    --background-gradient: linear-gradient(135deg, #ffe4e1 0%, #ffc0cb 50%, #dc143c 100%) !important;
    --card-background: rgba(255, 255, 255, 0.95) !important;
    --text-primary: #2d3748 !important;
    --text-secondary: #4a5568 !important;
    --text-muted: #718096 !important;
    --border-color: rgba(220, 20, 60, 0.2) !important;
    --shadow-color: rgba(220, 20, 60, 0.3) !important;
    --hover-color: rgba(220, 20, 60, 0.05) !important;
}

/* 主题4: 珊瑚粉 */
.theme-coral {
    --primary-color: #ff7f50 !important;
    --secondary-color: #ff6347 !important;
    --accent-color: #ffa07a !important;
    --background-gradient: linear-gradient(135deg, #fff5ee 0%, #ffd4c4 50%, #ff7f50 100%) !important;
    --card-background: rgba(255, 255, 255, 0.95) !important;
    --text-primary: #2d3748 !important;
    --text-secondary: #4a5568 !important;
    --text-muted: #718096 !important;
    --border-color: rgba(255, 127, 80, 0.2) !important;
    --shadow-color: rgba(255, 127, 80, 0.3) !important;
    --hover-color: rgba(255, 127, 80, 0.05) !important;
}

/* 主题5: 薰衣草原版 */
.theme-lavender_original {
    --primary-color: #e6e6fa !important;
    --secondary-color: #dda0dd !important;
    --accent-color: #d8bfd8 !important;
    --background-gradient: linear-gradient(135deg, #f8f8ff 0%, #e6e6fa 50%, #dda0dd 100%) !important;
    --card-background: rgba(255, 255, 255, 0.95) !important;
    --text-primary: #2d3748 !important;
    --text-secondary: #4a5568 !important;
    --text-muted: #718096 !important;
    --border-color: rgba(230, 230, 250, 0.2) !important;
    --shadow-color: rgba(230, 230, 250, 0.3) !important;
    --hover-color: rgba(230, 230, 250, 0.05) !important;
}

/* 主题6: 暖粉调 */
.theme-warm {
    --primary-color: #ff8c94 !important;
    --secondary-color: #ffaaa5 !important;
    --accent-color: #ffc5c5 !important;
    --background-gradient: linear-gradient(135deg, #fff0f0 0%, #ffe0e0 50%, #ff8c94 100%) !important;
    --card-background: rgba(255, 255, 255, 0.95) !important;
    --text-primary: #2d3748 !important;
    --text-secondary: #4a5568 !important;
    --text-muted: #718096 !important;
    --border-color: rgba(255, 140, 148, 0.2) !important;
    --shadow-color: rgba(255, 140, 148, 0.3) !important;
    --hover-color: rgba(255, 140, 148, 0.05) !important;
}

/* 主题7: 深色专业 */
.theme-dark {
    --primary-color: #6366f1 !important;
    --secondary-color: #4f46e5 !important;
    --accent-color: #8b5cf6 !important;
    --background-gradient: linear-gradient(135deg, #1e293b 0%, #334155 100%) !important;
    --card-background: rgba(30, 41, 59, 0.95) !important;
    --text-primary: #f1f5f9 !important;
    --text-secondary: #e2e8f0 !important;
    --text-muted: #94a3b8 !important;
    --border-color: rgba(99, 102, 241, 0.3) !important;
    --shadow-color: rgba(99, 102, 241, 0.4) !important;
    --hover-color: rgba(99, 102, 241, 0.1) !important;
}

/* 主题8: 森林绿 */
.theme-forest {
    --primary-color: #10b981 !important;
    --secondary-color: #059669 !important;
    --accent-color: #34d399 !important;
    --background-gradient: linear-gradient(135deg, #064e3b 0%, #065f46 100%) !important;
    --card-background: rgba(236, 253, 245, 0.95) !important;
    --text-primary: #064e3b !important;
    --text-secondary: #065f46 !important;
    --text-muted: #047857 !important;
    --border-color: rgba(16, 185, 129, 0.2) !important;
    --shadow-color: rgba(16, 185, 129, 0.3) !important;
    --hover-color: rgba(16, 185, 129, 0.05) !important;
}

/* 主题9: 海洋蓝 */
.theme-ocean {
    --primary-color: #0ea5e9 !important;
    --secondary-color: #0284c7 !important;
    --accent-color: #38bdf8 !important;
    --background-gradient: linear-gradient(135deg, #0c4a6e 0%, #075985 100%) !important;
    --card-background: rgba(240, 249, 255, 0.95) !important;
    --text-primary: #0c4a6e !important;
    --text-secondary: #075985 !important;
    --text-muted: #0369a1 !important;
    --border-color: rgba(14, 165, 233, 0.2) !important;
    --shadow-color: rgba(14, 165, 233, 0.3) !important;
    --hover-color: rgba(14, 165, 233, 0.05) !important;
}

/* 主题10: 日落橙 */
.theme-sunset {
    --primary-color: #f97316 !important;
    --secondary-color: #ea580c !important;
    --accent-color: #fb923c !important;
    --background-gradient: linear-gradient(135deg, #fed7aa 0%, #fdba74 100%) !important;
    --card-background: rgba(255, 255, 255, 0.95) !important;
    --text-primary: #9a3412 !important;
    --text-secondary: #c2410c !important;
    --text-muted: #ea580c !important;
    --border-color: rgba(249, 115, 22, 0.2) !important;
    --shadow-color: rgba(249, 115, 22, 0.3) !important;
    --hover-color: rgba(249, 115, 22, 0.05) !important;
}

/* 主题11: 薰衣草紫 */
.theme-lavender {
    --primary-color: #a855f7 !important;
    --secondary-color: #9333ea !important;
    --accent-color: #c084fc !important;
    --background-gradient: linear-gradient(135deg, #581c87 0%, #6b21a8 100%) !important;
    --card-background: rgba(250, 245, 255, 0.95) !important;
    --text-primary: #581c87 !important;
    --text-secondary: #6b21a8 !important;
    --text-muted: #7c3aed !important;
    --border-color: rgba(168, 85, 247, 0.2) !important;
    --shadow-color: rgba(168, 85, 247, 0.3) !important;
    --hover-color: rgba(168, 85, 247, 0.05) !important;
}

/* 主题12: 玫瑰金 */
.theme-rose-gold {
    --primary-color: #f43f5e !important;
    --secondary-color: #e11d48 !important;
    --accent-color: #fb7185 !important;
    --background-gradient: linear-gradient(135deg, #ffe4e6 0%, #fecdd3 100%) !important;
    --card-background: rgba(255, 255, 255, 0.95) !important;
    --text-primary: #881337 !important;
    --text-secondary: #9f1239 !important;
    --text-muted: #be123c !important;
    --border-color: rgba(244, 63, 94, 0.2) !important;
    --shadow-color: rgba(244, 63, 94, 0.3) !important;
    --hover-color: rgba(244, 63, 94, 0.05) !important;
}

/* ========== 主题应用到全局元素 ========== */
body {
    background: var(--background-gradient) !important;
    color: var(--text-primary) !important;
    transition: all 0.3s ease !important;
}

.card {
    background: var(--card-background) !important;
    border-color: var(--border-color) !important;
    box-shadow: 0 10px 30px var(--shadow-color) !important;
    backdrop-filter: blur(10px);
}

.btn-primary {
    background: var(--primary-color) !important;
    border-color: var(--primary-color) !important;
    transition: all 0.3s ease;
}

.btn-primary:hover {
    background: var(--secondary-color) !important;
    border-color: var(--secondary-color) !important;
    transform: translateY(-2px);
    box-shadow: 0 5px 15px var(--shadow-color) !important;
}

.navbar {
    background: var(--background-gradient) !important;
    backdrop-filter: blur(20px);
}

.text-primary {
    color: var(--primary-color) !important;
}

.bg-primary {
    background-color: var(--primary-color) !important;
}

/* ========== 图标修复系统 ========== */

/* Font Awesome 失效时的备用图标 */
.icon-fallback-active i.fas::before,
.icon-fallback-active i.fa::before,
.icon-fallback-active i.far::before,
.icon-fallback-active i.fab::before {
    content: "" !important;
    display: none !important;
}

.icon-fallback-active i.fas::after,
.icon-fallback-active i.fa::after,
.icon-fallback-active i.far::after,
.icon-fallback-active i.fab::after {
    content: attr(data-emoji) !important;
    font-family: "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif !important;
    font-weight: normal !important;
    font-style: normal !important;
    font-size: 1em !important;
    display: inline-block !important;
}

/* 特定图标映射 */
.icon-fallback-active i.fa-lightbulb::after { content: "💡"; }
.icon-fallback-active i.fa-question-circle::after { content: "❓"; }
.icon-fallback-active i.fa-highlighter::after,
.icon-fallback-active i.fa-highlight::after { content: "📍"; }
.icon-fallback-active i.fa-file-code::after { content: "📄"; }
.icon-fallback-active i.fa-code::after { content: "💻"; }
.icon-fallback-active i.fa-brain::after { content: "🧠"; }
.icon-fallback-active i.fa-print::after { content: "🖨️"; }
.icon-fallback-active i.fa-copy::after { content: "📋"; }
.icon-fallback-active i.fa-clock::after { content: "🕐"; }
.icon-fallback-active i.fa-home::after { content: "🏠"; }
.icon-fallback-active i.fa-history::after { content: "📋"; }
.icon-fallback-active i.fa-chart-line::after { content: "📈"; }
.icon-fallback-active i.fa-tachometer-alt::after { content: "📊"; }
.icon-fallback-active i.fa-vial::after { content: "🧪"; }
.icon-fallback-active i.fa-heart::after { content: "❤️"; }
.icon-fallback-active i.fa-check-circle::after { content: "✅"; }
.icon-fallback-active i.fa-magic::after { content: "✨"; }
.icon-fallback-active i.fa-comments::after { content: "💬"; }
.icon-fallback-active i.fa-clipboard-list::after { content: "📋"; }
.icon-fallback-active i.fa-wifi::after { content: "📶"; }
.icon-fallback-active i.fa-palette::after { content: "🎨"; }
.icon-fallback-active i.fa-icons::after { content: "🔧"; }
.icon-fallback-active i.fa-swatchbook::after { content: "🎨"; }
.icon-fallback-active i.fa-info-circle::after { content: "ℹ️"; }
.icon-fallback-active i.fa-sync::after { content: "🔄"; }
.icon-fallback-active i.fa-random::after { content: "🎲"; }
.icon-fallback-active i.fa-indent::after { content: "📝"; }
.icon-fallback-active i.fa-rocket::after { content: "🚀"; }
.icon-fallback-active i.fa-star::after { content: "⭐"; }
.icon-fallback-active i.fa-users::after { content: "👥"; }
.icon-fallback-active i.fa-search::after { content: "🔍"; }
.icon-fallback-active i.fa-download::after { content: "⬇️"; }
.icon-fallback-active i.fa-upload::after { content: "⬆️"; }
.icon-fallback-active i.fa-save::after { content: "💾"; }
.icon-fallback-active i.fa-edit::after { content: "✏️"; }
.icon-fallback-active i.fa-trash::after { content: "🗑️"; }
.icon-fallback-active i.fa-plus::after { content: "➕"; }
.icon-fallback-active i.fa-minus::after { content: "➖"; }
.icon-fallback-active i.fa-times::after { content: "❌"; }
.icon-fallback-active i.fa-check::after { content: "✅"; }

/* 图标大小一致性 */
i {
    display: inline-block;
    width: 1em;
    text-align: center;
}

/* ========== 响应式设计 ========== */
@media (max-width: 768px) {
    .card {
        margin-bottom: 1rem;
    }
    
    body {
        font-size: 14px;
    }
}